<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>GPT最佳实践 - 提升Prompt效果的六个策略 | 闲记算法</title><meta name="keywords" content="NLP,预训练,大型语言模型,Prompt,CoT,ChatGPT,GPT,Role"><meta name="author" content="Weitang Liu"><meta name="copyright" content="Weitang Liu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本指南分享了提高GPT的效果的策略和方法。这里描述的方法有时可以结合使用以获得更好的效果。同时鼓励多尝试试验，找到最适合自己的方法。 [TOC] 以下是提高Prompt效果的六个策略： 1. 编写清晰的提示 如果GPT输出的内容过长，可以要求进行简短的回复；如果输出过于简单，可以要求使用专业的写作水准输出内容。如果你不喜欢输出的格式，可以提供自己想要的格式。越是明确表达自己的需求，越有可能得到满意">
<meta property="og:type" content="article">
<meta property="og:title" content="GPT最佳实践 - 提升Prompt效果的六个策略">
<meta property="og:url" content="http://lonepatient.top/2023/08/20/GPT_Prompts_Six%20strategies_for_getting_better_results.html">
<meta property="og:site_name" content="闲记算法">
<meta property="og:description" content="本指南分享了提高GPT的效果的策略和方法。这里描述的方法有时可以结合使用以获得更好的效果。同时鼓励多尝试试验，找到最适合自己的方法。 [TOC] 以下是提高Prompt效果的六个策略： 1. 编写清晰的提示 如果GPT输出的内容过长，可以要求进行简短的回复；如果输出过于简单，可以要求使用专业的写作水准输出内容。如果你不喜欢输出的格式，可以提供自己想要的格式。越是明确表达自己的需求，越有可能得到满意">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230905101938.jpeg">
<meta property="article:published_time" content="2023-08-20T23:20:08.000Z">
<meta property="article:modified_time" content="2025-10-31T07:26:14.539Z">
<meta property="article:author" content="Weitang Liu">
<meta property="article:tag" content="NLP">
<meta property="article:tag" content="预训练">
<meta property="article:tag" content="大型语言模型">
<meta property="article:tag" content="Prompt">
<meta property="article:tag" content="CoT">
<meta property="article:tag" content="ChatGPT">
<meta property="article:tag" content="GPT">
<meta property="article:tag" content="Role">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230905101938.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://lonepatient.top/2023/08/20/GPT_Prompts_Six%20strategies_for_getting_better_results"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//s4.cnzz.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script async="async" data-pjax="data-pjax" src="https://s4.cnzz.com/z_stat.php?id=1273275888&amp;web_id=1273275888"></script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-10-31 07:26:14'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/css/backgroud.css"><script src="https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js"></script><script src="https://at.alicdn.com/t/c/font_3570527_dthoqrrv2tv.css"></script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"JwRQtLKZggvJH4sJ",ck:"JwRQtLKZggvJH4sJ"})</script><link rel="stylesheet" href="/css/universe.css"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3536467946304280" crossorigin="anonymous"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/touxiang.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">266</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">306</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">70</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/charts/"><i class="fa-fw fa fa-archive"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 网站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" target="_blank" rel="noopener" href="https://www.aitoolist.cn"><i class="fa-fw fa fa-star"></i><span> AI工具集合</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://www.deepdh.com"><i class="fa-fw fa fa-star"></i><span> AI工具导航</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://www.ai-lib.club"><i class="fa-fw fa fa-star"></i><span> 人工智能工具</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://ai-bot.cn"><i class="fa-fw fa fa-star"></i><span> AI工具集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 教程</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" target="_blank" rel="noopener" href="https://learningprompt.wiki/"><i class="fa-fw fa fa-star"></i><span> Prompt教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 在线</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/md_editor/"><i class="fa-fw fa fa-star"></i><span> 在线markdown</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://github.com/lonePatient/blog_source/tree/main/source/_posts"><i class="fa-fw fa fa-star"></i><span> 在线push</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw far fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user-circle"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230905101938.jpeg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">闲记算法</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa-fw fa fa-book"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/charts/"><i class="fa-fw fa fa-archive"></i><span> 统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 网站</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" target="_blank" rel="noopener" href="https://www.aitoolist.cn"><i class="fa-fw fa fa-star"></i><span> AI工具集合</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://www.deepdh.com"><i class="fa-fw fa fa-star"></i><span> AI工具导航</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://www.ai-lib.club"><i class="fa-fw fa fa-star"></i><span> 人工智能工具</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://ai-bot.cn"><i class="fa-fw fa fa-star"></i><span> AI工具集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 教程</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" target="_blank" rel="noopener" href="https://learningprompt.wiki/"><i class="fa-fw fa fa-star"></i><span> Prompt教程</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 在线</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/md_editor/"><i class="fa-fw fa fa-star"></i><span> 在线markdown</span></a></li><li><a class="site-page" target="_blank" rel="noopener" href="https://github.com/lonePatient/blog_source/tree/main/source/_posts"><i class="fa-fw fa fa-star"></i><span> 在线push</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/message/"><i class="fa-fw far fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user-circle"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">GPT最佳实践 - 提升Prompt效果的六个策略<a class="post-edit-link" href="https://github.com/lonePatient/blog_source/tree/main/source/_posts/GPT_Prompts_Six strategies_for_getting_better_results.md" title="编辑" target="_blank"><i class="fas fa-pencil-square"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-20T23:20:08.000Z" title="发表于 2023-08-20 23:20:08">2023-08-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-10-31T07:26:14.539Z" title="更新于 2025-10-31 07:26:14">2025-10-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/">自然语言处理</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/Prompts/">Prompts</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>39分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2023/08/20/GPT_Prompts_Six%20strategies_for_getting_better_results.html#post-comment"><span id="twikoo-count"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>本指南分享了提高GPT的效果的策略和方法。这里描述的方法有时可以结合使用以获得更好的效果。同时鼓励多尝试试验，找到最适合自己的方法。</p>
<p>[TOC]</p>
<p>以下是提高<code>Prompt</code>效果的六个策略：</p>
<h3 id="1-编写清晰的提示">1. 编写清晰的提示</h3>
<p>如果GPT输出的内容过长，可以要求进行简短的回复；如果输出过于简单，可以要求使用专业的写作水准输出内容。如果你不喜欢输出的格式，可以提供自己想要的格式。越是明确表达自己的需求，越有可能得到满意的答案。</p>
<p>具体方法：</p>
<ul>
<li>在查询中提供更多细节可以获得更相关的答案</li>
<li>可以要求模型采用特定的人设</li>
<li>使用分隔符清楚地指示输入的不同部分</li>
<li>指定完成任务所需的步骤</li>
<li>提供例子</li>
<li>指定所需的输出长度</li>
</ul>
<h4 id="1-1-在查询中包含详细信息以获得更相关的答案">1.1 在查询中包含详细信息以获得更相关的答案</h4>
<p>为了获得高度相关的响应，请确保请求中提供了所有重要的详细信息或上下文。否则，模型将会猜测你的意思，结果的相关度也会降低。</p>
<p>在下面的表格中，右边是推荐的写法，效果会比左边的更好，因为提供了更多具体的细节信息。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>更差的</strong></th>
<th style="text-align:left"><strong>更好的</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">如何在 Excel 中添加数字？</td>
<td style="text-align:left">如何在 Excel 中添加一行美元金额？我想对整张行自动执行此操作，所有总计都在右侧名为“总计”的列中结束。</td>
</tr>
<tr>
<td style="text-align:left">谁是总统？</td>
<td style="text-align:left">谁是 2021 年墨西哥总统？选举频率如何？</td>
</tr>
<tr>
<td style="text-align:left">编写代码来计算斐波那契数列。</td>
<td style="text-align:left">编写一个 TypeScript 函数来高效计算斐波那契数列。自由地注释代码以解释每部分的作用以及为什么这样编写。</td>
</tr>
<tr>
<td style="text-align:left">总结会议记录。</td>
<td style="text-align:left">用一个段落总结会议记录。然后写下演讲者的 Markdown 列表以及他们的每个要点。最后，列出发言人建议的后续步骤或行动项目（如果有）。</td>
</tr>
</tbody>
</table>
<h4 id="1-2-要求模型采用特定的角色">1.2 要求模型采用特定的角色</h4>
<p>GPT的系统消息（system）可用于指定模型在其回复中使用的角色（GPT扮演的角色或行为表现的描述）。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">当我请求帮助写一些东西时，你会回复一份文档，其中每个段落至少包含一个笑话或有趣的评论。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">给我的钢螺栓供应商写一封感谢信，感谢他们在短时间内准时交货。这使我们能够交付一份重要的订单。</td>
</tr>
</tbody>
</table>
<p>没有系统角色的回复效果：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904215902.png" alt=""></p>
<p>提供了系统角色的回复效果：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904215925.png" alt=""></p>
<p>很明显，指定了系统角色信息之后，回复的内容的确是更有趣了。</p>
<blockquote>
<p>熟悉Prompt的同学们应该都知道，通常在写Prompt的时候要先设定角色：“你是XX方面的专家”，这并非玄学，而是有科学根据的。</p>
</blockquote>
<blockquote>
<p>GPT在训练的时候，有各种训练数据，有的质量高有的质量低，而默认情况下，生成高质量数据和低质量数据的概率差不多，但是当你给它设定XX专家的角色时，它会尽可能把概率分布在高质量的解决方案上。</p>
</blockquote>
<blockquote>
<h2 id="以下是Andrej-Karpathy在State-of-GPT中的一段演讲的文字内容：">以下是Andrej Karpathy在State of GPT中的一段演讲的文字内容：</h2>
<p>下面我要讲的这点对LLM的理解非常有趣，我觉得这算是LLM的一种心理特性：LLM并不追求成功，而是追求模仿。你希望它成功，那就需要向它明确要求。这里的意思是，在训练Transformer的过程中，它们有各种训练集，而这些训练数据中可能涵盖了各种不同质量的表现。比如，可能有一个关于物理问题的提示，然后可能有学生的解答完全错误，但也可能有专家的答案完全正确。尽管Transformer可以识别出低质量的解决方案和高质量的解决方案，但默认情况下，它们只会模仿所有的数据，因为它们仅仅是基于语言模型进行训练的。</p>
</blockquote>
<blockquote>
<p>在实际测试中，你其实需要明确要求它表现得好。在这篇论文的实验中，他们尝试了各种提示。例如，“让我们逐步思考”这种提示就很有效，因为它把推理过程分散到了许多记号上。但效果更好的是这样的提示：“让我们以一步一步的方式解决问题，以确保我们得到正确的答案。” 这就好像是在引导Transformer去得出正确的答案，这会使Transformer的表现更好，因为此时Transformer不再需要把它的概率质量分散到低质量的解决方案上，尽管这听起来很荒谬。</p>
</blockquote>
<blockquote>
<p>基本上，你可以自由地要求一个高质量的解决方案。比如，你可以告诉它，“你是这个话题的领先专家。假装你的智商是120。” 但不要尝试要求太高的智商，因为如果你要求智商400，可能就超出了数据分布的范围，更糟糕的是，你可能落入了类似科幻内容的数据分布，它可能会开始展现一些科幻的，或者说角色扮演类的东西。所以，你需要找到适合的智商要求。我想这可能是一个U型曲线的关系。</p>
</blockquote>
<h4 id="1-3-使用分隔符清楚地指示输入的不同部分">1.3 使用分隔符清楚地指示输入的不同部分</h4>
<p>使用分隔符，如<code>三重引号</code>、<code>XML 标签</code>、<code>章节标题</code>等，可以帮助区分文本的不同部分。</p>
<p>示例1:</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">用俳句来总结由三重引号分隔的文本。 “”“在此插入文本”“”</td>
</tr>
</tbody>
</table>
<p>示例2:</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">您将获得一对关于同一主题的文章（用 XML 标记分隔）。先总结一下每篇文章的论点。然后指出他们中的哪一个提出了更好的论点并解释原因。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left"><article> 在此插入第一篇文章 </article> <article> 在此插入第二篇文章 </article></td>
</tr>
</tbody>
</table>
<p>示例3:</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">您将获得论文摘要和建议的标题。论文标题应该让读者清楚地了解论文的主题，但也应该引人注目。如果标题不符合这些标准，请提出 5 个替代方案。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">摘要：在此插入摘要 标题：在此插入标题</td>
</tr>
</tbody>
</table>
<p>对于像这样的简单任务，使用分隔符可能不会影响输出质量。然而，任务越复杂，消除歧义就越重要。不要让 GPT 为了理解你所要求的内容而费力。</p>
<h4 id="1-4-指定完成任务所需的步骤">1.4 指定完成任务所需的步骤</h4>
<p>对于某一些任务，最好提供一系列的步骤来提示模型。<br>
也就是说，进行任务分解，将一个大的任务分成多个小的步骤来完成。<br>
将这些步骤明确地写出来，可以帮助模型更好地理解和执行任务。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">使用以下分步说明来响应用户输入。 步骤 1 - 用户将为您提供三引号中的文本。用一个句子总结这段文字，并加上前缀“摘要:”。 步骤 2 - 将步骤 1 中的摘要翻译成西班牙语，并添加前缀“翻译:”。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">“”“在此插入文本”“”</td>
</tr>
</tbody>
</table>
<h4 id="1-5-提供小样本">1.5 提供小样本</h4>
<p>提供适用于所有示例的“通用说明(general instructions)”，通常比&quot;通过示例&quot;演示&quot;任务的所有排列&quot;更有效，但在某些情况下，提供示例可能更容易。例如，如果您打算让模型复制&quot;响应用户查询的特定风格&quot;，而这种风格又很难明确的进行描述。这种提供示例的方式被称为“少样本”提示。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">以一致的风格回答。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">教我关于耐心的知识。</td>
</tr>
<tr>
<td style="text-align:left">ASSISTANT</td>
<td style="text-align:left">凿出最深山谷的河流，发源于一个不起眼的泉水;最伟大的交响乐源自一个音符;最复杂的挂毯都是从一根单独的线开始的。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">教我关于海洋的知识。</td>
</tr>
</tbody>
</table>
<h4 id="1-6-指定所需的输出长度">1.6 指定所需的输出长度</h4>
<p>您可以要求模型生成给定目标长度的输出。目标输出长度可以根据单词、句子、段落、要点等的计数来指定。需要注意的是，指定生成特定数量的单词并不能保证高精度的结果。相比之下，该模型更可靠地生成具有特定数量的段落或要点的输出。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">用大约 50 个单词概括由三引号分隔的文本。 “”“在此插入文本”“”</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">将由三个引号括起来的文本总结为两个段落。 “”“在此插入文本”“”</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">将由三引号分隔的文本总结为 3 个要点。 “”“在此插入文本”“”</td>
</tr>
</tbody>
</table>
<h3 id="2-提供参考文本">2. 提供参考文本</h3>
<p>GPT模型可以自信地编造虚假答案，尤其是在涉及深奥主题或引用和URL时。就像学生在考试时可以查看笔记来帮助自己更好地回答问题一样，向GPT模型提供参考文本可以帮助减少编造虚假答案的情况。</p>
<p>具体方法：</p>
<ul>
<li>提示模型使用参考文本来回答问题</li>
<li>提示模型使用参考文本中的引用来回答问题</li>
</ul>
<p>GPT模型可以自信地编造虚假答案，尤其是在涉及深奥主题或引用和URL时。就像学生在考试时可以查看笔记来帮助自己更好地回答问题一样，向GPT模型提供参考文本可以帮助减少编造虚假答案的情况。</p>
<p><strong>具体方法：</strong></p>
<ul>
<li>提示模型使用参考文本来回答问题</li>
<li>提示模型使用参考文本中的引用来回答问题</li>
</ul>
<h4 id="2-1-提示模型使用参考文本来回答问题">2.1 提示模型使用参考文本来回答问题</h4>
<p>如果我们可以为模型提供与当前查询相关的可靠信息，那么我们就可以要求模型使用提供的信息来进行回答。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">使用三个引号内的文章来回答问题。如果答案在文章中找不到，请返回“我找不到答案”。</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">&lt;插入文章，每篇文章用三个引号分隔&gt; 问题：&lt;在此插入问题&gt;</td>
</tr>
</tbody>
</table>
<h5 id="示例">示例</h5>
<p>Prompt内容：</p>
<blockquote>
<p>“”&quot; 2022年的某一天，李明开着摩托车去给客户送货，路上遇到了一只小狗，他停下车去看了一下小狗，回去开车的时候货物不见了。李明在2023年进了一批货物，货物里面居然有一只小狗。“”&quot;</p>
<p>问题：2022年李明开摩托车遇到了什么动物？</p>
</blockquote>
<p>输出结果：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220116.png" alt=""></p>
<p>将引号内容中的2022年修改为2021年，再测试一下：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220135.png" alt=""></p>
<p>鉴于 GPT 的上下文窗口大小的有限，为了应用这个策略，我们(有时)需要某种方法来动态查找与所提出的问题相关的信息。而嵌入(Embeddings)就可用于实现高效的知识检索。有关如何实现这一点的更多详细信息，请参阅策略“使用基于嵌入的搜索来实现高效的知识检索” 。</p>
<h4 id="2-2-提示模型使用参考文本中的引用来回答问题">2.2 提示模型使用参考文本中的引用来回答问题</h4>
<p>如果输入的内容已经包含了相关知识，那么我们可以要求模型通过引用所提供文档中的段落来为其答案添加引文。需要注意的是，输出中的“引文”可以通过“在所提供文档中进行字符串匹配来进行程序验证”。</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>GPT角色</strong></th>
<th style="text-align:left"><strong>角色内容</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">SYSTEM</td>
<td style="text-align:left">你将会得到一个由三个引号分隔的文档内容和一个问题。你的任务是只使用提供的文档内容来回答问题，并引用“用于回答问题的文档内容段落”。如果文档内容中没有包含用于回答该问题所需的信息，则简单地返回：“信息不足”。如果文档内容中提供了问题的答案，则必须使用“引文”进行注释。使用以下格式引用相关的段落。({“引文”: …})</td>
</tr>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">“”“在此插入文档内容”“” 问题：&lt;在此插入问题&gt;</td>
</tr>
</tbody>
</table>
<h5 id="示例-2">示例</h5>
<p>英文效果：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220203.png" alt=""></p>
<p>中文效果：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220219.png" alt=""></p>
<p>Prompt内容：</p>
<blockquote>
<p>“”&quot;蒸汽机是一种以蒸汽为工作流体进行机械功的热力发动机。蒸汽机利用蒸汽压力产生的力推动活塞在气缸内来回移动。这种推力可以转化为：连杆和曲柄，转化为旋转力做功。术语“蒸汽机”通常仅适用于刚才描述的往复式发动机，而不适用于蒸汽轮机。蒸汽机是外燃机，其中工作流体与蒸汽分离 燃烧产物。用于分析此过程的理想热力循环称为朗肯循环。在一般用法中，术语“蒸汽机”可以指完整的蒸汽装置（包括锅炉等），例如铁路蒸汽机车和便携式发动机，或 可以单独指活塞或涡轮机，如梁式发动机和固定式蒸汽机。</p>
<p>尽管蒸汽驱动装置早在公元一世纪就为人所知，并且在 16 世纪也有一些其他用途的记录，但 Jerónimo de Ayanz y Beaumont 于 1606 年为他的第一台用于矿井排水的蒸汽驱动水泵的发明申请了专利 。托马斯·萨弗里 (Thomas Savery) 被认为是第一个商用蒸汽动力设备的发明者，该设备是一种直接在水面上使用蒸汽压力运行的蒸汽泵。托马斯·纽科门 (Thomas Newcomen) 于 1712 年开发出第一台商业成功的发动机，可以向机器传输连续动力。詹姆斯·瓦特 (James Watt) 在 1764 年做出了一项重大改进，将废蒸汽转移到一个单独的容器中进行冷凝，从而大大提高了每单位燃料消耗所获得的功量。到了 19 世纪，固定式蒸汽机为工业革命的工厂提供了动力。蒸汽机取代了明轮船上的船帆，蒸汽机车在铁路上运行。</p>
<p>直到 20 世纪初，往复活塞式蒸汽机一直是主要的动力来源，当时电动机和内燃机设计的进步导致商业用途中逐渐取代蒸汽机。由于成本更低、运行速度更高、效率更高，蒸汽轮机在发电中取代了往复式发动机。“”&quot;</p>
<p>问题：第一台商业上成功的蒸汽机是什么？</p>
</blockquote>
<p>在输出的结果中，通过增加引文内容，可以使得输出的结果更加可靠。同时可以验证答案的确是来源于原文的某一个段落，确保信息的真实性。</p>
<h3 id="3-将复杂的任务拆分为更简单的子任务">3. 将复杂的任务拆分为更简单的子任务</h3>
<p>就像在软件工程中将复杂系统分解为一组模块化组件一样，在提交给GPT模型的任务中也是如此。复杂任务往往比简单任务出错率更高。此外，复杂任务通常可以重新定义为一系列简单任务的工作流程，其中前置任务的输出作为后续任务的输入。</p>
<p>具体方法：</p>
<ul>
<li>使用意图分类来识别与用户查询最相关的指令</li>
<li>对于需要很长会话的对话应用，总结或过滤之前的对话</li>
<li>分段总结长文档，并递归构建成完整摘要</li>
</ul>
<h4 id="3-1-使用意图分类来识别与用户查询最相关的指令">3.1 使用意图分类来识别与用户查询最相关的指令</h4>
<p>对于需要大量独立指令集来处理不同情况的任务，首先对查询类型进行分类并使用该分类来确定需要哪些指令可能会更好。这可以通过定义与处理给定类别中的任务相关的固定类别和硬编码指令来实现。该过程也可以递归地应用，将任务分解为一系列阶段。这种方法的优点是每个查询仅包含执行任务下一阶段所需的指令，与使用单个查询执行整个任务相比，这可以降低错误率。这还可以降低成本，因为更多的提示(large prompts)运行成本也会更高。（这段描述比较抽象，结合下面的例子来理解会清楚很多）</p>
<h5 id="示例1">示例1</h5>
<p>例如，对于一个客户服务查询系统，可以按照以下方式进行更好的查询分类。</p>
<p><strong>SYSTEM Prompt：</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">我们将向您提供客户服务查询，并将每个查询分为一级分类和二级分类。请你以JSON格式回答问题，并且JSON包含以下字段：一级和二级。示例回答：&#123;&quot;一级&quot;:&quot;一般查询&quot;,&quot;二级&quot;:&quot;定价&quot;&#125;</span><br><span class="line"></span><br><span class="line">一级分类：计费、技术支持、账户管理或一般查询。</span><br><span class="line"></span><br><span class="line">计费二级分类：</span><br><span class="line">- 取消订阅或升级</span><br><span class="line">- 添加付款方式</span><br><span class="line">- 收费说明</span><br><span class="line">- 对收费提出异议</span><br><span class="line"></span><br><span class="line">技术支持二级分类：</span><br><span class="line">- 故障排除</span><br><span class="line">- 设备兼容性</span><br><span class="line">- 软件更新</span><br><span class="line"></span><br><span class="line">账户管理二级分类：</span><br><span class="line">- 密码重置</span><br><span class="line">- 更新个人信息</span><br><span class="line">- 关闭账户</span><br><span class="line">- 账户安全</span><br><span class="line"></span><br><span class="line">一般查询二级分类：</span><br><span class="line">- 产品信息</span><br><span class="line">- 定价</span><br><span class="line">- 反馈</span><br><span class="line">- 人工交流</span><br></pre></td></tr></table></figure>
<p>我们提几个问题，进行客户服务查询：</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220454.png" alt=""></p>
<p>针对我们提出的4个问题，GPT对意图的识别都是正确的，效果很棒。</p>
<p>这种实现思路，非常适合用来实现智能客服，以及指令类型的应用系统。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">USER</span><br><span class="line">我需要让我的互联网再次工作起来。</span><br><span class="line">ASSISTANT</span><br><span class="line">&#123;&quot;一级&quot;:&quot;技术支持&quot;,&quot;二级&quot;:&quot;故障排除&quot;&#125;</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">我忘记密码了</span><br><span class="line">ASSISTANT</span><br><span class="line">&#123;&quot;一级&quot;:&quot;账户管理&quot;,&quot;二级&quot;:&quot;密码重置&quot;&#125;</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">我的软件兼容性有问题</span><br><span class="line">ASSISTANT</span><br><span class="line">&#123;&quot;一级&quot;:&quot;技术支持&quot;,&quot;二级&quot;:&quot;设备兼容性&quot;&#125;</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">软件版本太旧了</span><br><span class="line">ASSISTANT</span><br><span class="line">&#123;&quot;一级&quot;:&quot;技术支持&quot;,&quot;二级&quot;:&quot;软件更新&quot;&#125;</span><br></pre></td></tr></table></figure>
<h5 id="示例2">示例2</h5>
<p>根据客户查询的分类，可以向 GPT 模型提供一组更具体的指令来处理后续的步骤。例如，假设客户需要“故障排除”方面的帮助。</p>
<p><strong>SYSTEM Prompt：</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">你将收到需要技术支持故障排查的客户服务咨询。请按照以下步骤帮助用户：</span><br><span class="line"></span><br><span class="line">- 请他们检查所有进出路由器的电缆是否已连接。请注意，电缆随着时间的推移可能会变得松动，这是很常见的。</span><br><span class="line">- 如果所有的电缆都已连接，但问题仍然存在，请询问他们使用的路由器型号是什么。</span><br><span class="line">- 现在你将指导他们如何重启设备：</span><br><span class="line">-- 如果型号是 MTD-327J，请建议他们按下红色按钮并保持5秒，然后等待5分钟后再测试连接的状态。</span><br><span class="line">-- 如果型号是 MTD-327S，请建议他们拔下电源插头并重新插入，然后等待5分钟后再测试连接的状态。</span><br><span class="line">- 如果客户在重启设备并等待5分钟后，问题仍然存在，请通过输出 &#123;&quot;IT support requested&quot;&#125; 将他们转接到IT支持服务。</span><br><span class="line">- 如果用户开始提问与此话题无关的问题，那么请确认他们是否希望结束当前关于故障排除的聊天，并根据以下方案对他们的请求进行分类：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">将客户的每个查询分为一级分类和二级分类。</span><br><span class="line">请你以JSON格式回答问题，并且JSON包含以下字段：一级和二级。</span><br><span class="line">示例回答：&#123;&quot;一级&quot;:&quot;一般查询&quot;,&quot;二级&quot;:&quot;定价&quot;&#125;</span><br><span class="line"></span><br><span class="line">一级分类：计费、技术支持、账户管理或一般查询。</span><br><span class="line"></span><br><span class="line">计费二级分类：</span><br><span class="line">- 取消订阅或升级</span><br><span class="line">- 添加付款方式</span><br><span class="line">- 收费说明</span><br><span class="line">- 对收费提出异议</span><br><span class="line"></span><br><span class="line">技术支持二级分类：</span><br><span class="line">- 故障排除</span><br><span class="line">- 设备兼容性</span><br><span class="line">- 软件更新</span><br><span class="line"></span><br><span class="line">账户管理二级分类：</span><br><span class="line">- 密码重置</span><br><span class="line">- 更新个人信息</span><br><span class="line">- 关闭账户</span><br><span class="line">- 账户安全</span><br><span class="line"></span><br><span class="line">一般查询二级分类：</span><br><span class="line">- 产品信息</span><br><span class="line">- 定价</span><br><span class="line">- 反馈</span><br><span class="line">- 人工交流</span><br></pre></td></tr></table></figure>
<p>相比于第一个例子，本示例的Prompt要复杂许多，换做是人工都不一定能回答得很好，但是GPT的回复却非常的到位。</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220637.png" alt=""></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">USER</span><br><span class="line">我需要让我的互联网再次工作起来。</span><br><span class="line">ASSISTANT</span><br><span class="line">我明白你的困扰，让我们一步一步解决这个问题。</span><br><span class="line"></span><br><span class="line">首先，你能检查一下连到路由器的电缆是否都已经连接好了吗? 这包括任何进入或离开路由器的电缆。时间长了，电缆可能会松动，这是很正常的。</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">检查了，已经连接</span><br><span class="line">ASSISTANT</span><br><span class="line">好的，既然所有的电缆都已经连接好了，接下来我们需要了解一下你的路由器是什么型号。</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">MTD-327S</span><br><span class="line">ASSISTANT</span><br><span class="line">好的，谢谢你提供了路由器的型号。对于MTD-327S这款路由器，我们需要做的是断电重启。</span><br><span class="line"></span><br><span class="line">请你按照以下步骤操作：拔下电源插头，然后重新插入，然后等待5分钟后再测试网络连接的状态。</span><br><span class="line"></span><br><span class="line">请先试一试，看看这样能不能解决你的问题。</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">问题依然存在</span><br><span class="line">ASSISTANT</span><br><span class="line">&#123;&quot;IT support requested&quot;&#125;</span><br><span class="line"></span><br><span class="line">USER</span><br><span class="line">我忘记设备的密码了</span><br><span class="line">ASSISTANT</span><br><span class="line">&#123;&quot;一级&quot;:&quot;账户管理&quot;,&quot;二级&quot;:&quot;密码重置&quot;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="3-2-对于需要很长会话的对话应用，总结或过滤之前的对话">3.2 对于需要很长会话的对话应用，总结或过滤之前的对话</h4>
<p>由于 GPT 具有固定的上下文长度，因此用户和GPT之间的历史对话内容不能无限期地包含在上下文窗口中。</p>
<p>对于这个问题有多种解决方法，其中一种是对之前的对话进行总结。当输入内容的大小达到预定的阈值长度时，则触发对部分对话内容的总结，同时总结后的会话摘要可以作为系统提示信息的一部分。或者，可以在整个对话的过程中，在后台异步的总结之前的对话。</p>
<p>另一种解决方案，是动态的选择先前会话中与当前查询最相关的对话内容。这部分请参阅策略“使用基于嵌入的搜索实现高效的知识检索”。</p>
<p>举一个简单的例子：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">例子1：客服聊天机器人</span><br><span class="line">假设一个客服聊天机器人正在与用户讨论复杂的技术问题。</span><br><span class="line">对话很长，涉及多个问题和解决方案。当对话字符达到2000时，系统触发一个机制将前1000个字符的内容总结为200字符的摘要。</span><br><span class="line">这样，新的问题和回答可以继续添加到对话中，而先前对话的重要部分仍然作为摘要保留，可以作为后续对话的参考。</span><br><span class="line"></span><br><span class="line">例子2：法律咨询机器人</span><br><span class="line">假设一个法律咨询机器人正在与用户讨论不同的法律问题，涉及合同、知识产权和劳动法等多个主题。</span><br><span class="line">当用户提出一个特定的关于劳动法的问题时，系统可以动态选择先前关于劳动法的对话部分，忽略与合同和知识产权相关的内容。</span><br><span class="line">这样，一方面不会超过上下文的最大长度，同时可以更精确地响应当前的问题，而不被不相关的信息所干扰。</span><br></pre></td></tr></table></figure>
<h4 id="3-3-分段总结长文档，并递归构建成完整摘要">3.3 分段总结长文档，并递归构建成完整摘要</h4>
<p>由于 GPT 具有固定的上下文长度，因此它不能用于在单次查询中总结长度超过“固定上下文长度减去生成内容的长度”的文本。</p>
<p>要总结一个很长的文档（例如一本书），我们可以使用一系列的查询来总结文档的每个部分。通过将每一个章节的摘要合并在一起并进行总结，可以进一步生成摘要的摘要。这个处理过程可以递归地进行，直到对整个文档完成总结。如果有必要使用前面章节的信息来理解后面的章节，那么另一个有用的技巧是，在总结书中任何给定部分的内容时，都将前面章节得到的摘要（a running summary，持续摘要）包含进来。OpenAI 在之前的研究中，已经使用了 GPT-3 的变体研究了这种总结书籍的过程的有效性。</p>
<p>举一个简单的例子：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">假设一本书籍有三章：</span><br><span class="line"></span><br><span class="line">第一章是关于一个男孩的生活。</span><br><span class="line">第二章描述了他的大学生涯。</span><br><span class="line">第三章讲述了他的工作生涯。</span><br><span class="line"></span><br><span class="line">如果我们对每章进行摘要：</span><br><span class="line">第一章摘要：男孩在乡村长大。</span><br><span class="line">第二章摘要：男孩在城市的大学学习。</span><br><span class="line">第三章摘要：男孩成为了一名医生。</span><br><span class="line"></span><br><span class="line">如果我们用“持续摘要”的方法：</span><br><span class="line">第一章的持续摘要：男孩在乡村长大。</span><br><span class="line">到第二章时的持续摘要：男孩在乡村长大，后来去城市的大学学习。</span><br><span class="line">到第三章时的持续摘要：男孩在乡村长大，后来去城市的大学学习，并最终成为了一名医生。</span><br></pre></td></tr></table></figure>
<p>通过这种持续摘要的方式，提供了一个连续的、不断更新的上下文信息，当后续的章节与前面的章节有紧密的联系时，可以更好的理解最新的章节。</p>
<h3 id="4-给-GPT-时间“思考”">4. 给 GPT 时间“思考”</h3>
<p>如果让你计算17乘以28，你可能不会立即知道答案，但是可以花时间算出来。类似地，当GPT试图立即回答问题时，它会犯更多的推理错误，而不是花时间计算出答案。在回答之前，要求给出一系列的推理过程可以帮助GPT更可靠地推理正确的答案。</p>
<p>具体方法：</p>
<ul>
<li>提示模型不要匆忙得出结论，而是要先找出自己的解决方案</li>
<li>使用内心独白或一系列问题来隐藏模型的推理过程</li>
<li>询问模型在之前的处理过程中是否遗漏了什么内容</li>
</ul>
<h4 id="4-1-提示模型不要匆忙得出结论，而是要先找出自己的解决方案">4.1 提示模型不要匆忙得出结论，而是要先找出自己的解决方案</h4>
<p>有时候，当我们明确指示模型在得出结论之前从基本原理出发进行推理，我们可以得到更好的结果。例如，假设我们需要一个模型来评估学生对数学问题的解决方案，最明显的解决方法就是简单地询问模型“学生的解决方案”是否正确。</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">确定学生的解决方案是否正确。</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">问题描述：我正在建设一个太阳能发电设施，并且我需要帮助以解决财务问题。</span><br><span class="line"></span><br><span class="line">- 土地每平方英尺价格为$100</span><br><span class="line">- 我可以以每平方英尺$250的价格购买太阳能板</span><br><span class="line">- 我谈判了一份维护合同，第一年将花费我固定的$100,000，以及额外的每平方英尺$10</span><br><span class="line">第一年运营的总成本作为平方英尺数量的函数是多少？</span><br><span class="line"></span><br><span class="line">学生的解决方案：设x为安装面积（以平方英尺为单位）。</span><br><span class="line">1.土地成本：100x</span><br><span class="line">2.太阳能板成本：250x</span><br><span class="line">3.维护成本：100,000 + 10x</span><br><span class="line">总成本：100x + 250x + 100,000 + 10x = 450x + 100,000</span><br></pre></td></tr></table></figure>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220914.png" alt=""></p>
<p>输出的结果是，学生的解决方案是正确的。</p>
<p>但是学生的解决方案实际上是不正确的！我们可以通过提示模型首先生成自己的解决方案来让模型注意到这一点。</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">首先，针对这个问题，请先思考并找出你自己的解决方案，列出计算过程。</span><br><span class="line">将你的解决方案的函数与学生的解决方案的函数分别列出来，再将函数进行比较，评估学生的解决方案是否正确。</span><br><span class="line">请在你自己完成问题的解决方案之后，再判断学生的解决方案是否正确。</span><br></pre></td></tr></table></figure>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904220952.png" alt=""></p>
<p>这次得出了正确的结论，学生的答案是错误的。</p>
<h4 id="4-2-使用内心独白或一系列查询来隐藏模型的推理过程">4.2 使用内心独白或一系列查询来隐藏模型的推理过程</h4>
<p>前面的策略表明，在回答特定问题之前，模型有时需要详细地推理问题。对于某些应用来说，模型用于得出最终答案的推理过程是不适合与用户分享的。例如，在辅导应用中，我们可能希望鼓励学生自己解决问题，但模型对学生解决方案的推理过程可能会泄露答案给学生。</p>
<p>内心独白是一种可以用来缓解这个问题的策略。内心独白的思路是指导模型将那些“不应被用户看到的输出部分”放入一种结构化的格式中，以便于解析。然后，在将输出呈现给用户之前，对输出进行解析，并且只显示输出的一部分。</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">按照以下步骤回答用户的问题。</span><br><span class="line"></span><br><span class="line">步骤1 - 首先自己解决问题。不要依赖学生的解决方案，因为它可能是错误的。将所有此步骤的工作用三个引号（&quot;&quot;&quot;）括起来。</span><br><span class="line"></span><br><span class="line">步骤2 - 将你的解决方案与学生的解决方案进行比较，并评估学生的解决方案是否正确。将所有此步骤的工作用三个引号（&quot;&quot;&quot;）括起来。</span><br><span class="line"></span><br><span class="line">步骤3 - 如果学生犯了错误，确定你可以给学生什么提示而不泄露答案。将所有此步骤的工作用三个引号（&quot;&quot;&quot;）括起来。</span><br><span class="line"></span><br><span class="line">步骤4 - 如果学生犯了错误，提供上一步中的提示给学生（不用三个引号括起来）。与其写“步骤4 - ...”，不如写“提示：”。</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">问题陈述：一个盒子里有4个红球和6个蓝球。从盒子中不放回地抽出两个球。抽出的两个球中有一个是红色和另一个是蓝色的概率是多少？</span><br><span class="line"></span><br><span class="line">学生解决方案：(4/10)*(6/9) = 24/90 = 4/15</span><br></pre></td></tr></table></figure>
<p>如果使用GPT 3.5，回答的结果不太稳定，效果不好。</p>
<p>因此，下面使用GPT 4来测试。由于我的账号没有GPT 4的API权限，所以将SYSTEM和USER的提示合并后，放到ChatGPT Plus网页版中的GPT 4来测试。</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904221102.png" alt=""></p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904221117.png" alt=""></p>
<p>前三个步骤，模型按照要求解答，并以三个引号括了起来。</p>
<p>最后一部分，是在判断了学生的答案有误之后，用于展示给学生的解题提示。</p>
<p>在实际的应用开发中，对于GPT的回复，可以通过指定的格式（三个引号）将前三个步骤的结果过滤掉，只返回最后一步的提示内容展示给学生。</p>
<h4 id="4-3-使用一系列的查询来实现">4.3 使用一系列的查询来实现</h4>
<p>或者，这可以通过一系列查询来实现，其中除了最后一个查询之外，所有查询的输出都对最终用户隐藏。</p>
<p>首先，我们可以让模型来解决问题。由于这个初始查询不需要使用学生的解决方案，因此可以省略。这样做还有一个额外的优点，即模型的解决方案不会因“学生尝试的解决方案”而产生偏差。</p>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">已知一个盒子里有4个红色的球和6个蓝色的球。现在从这个盒子里抽出两个球，并且抽出后不放回盒子中。请问，抽出的两个球中有一个是红色而另一个是蓝色的概率是多少？请一步步思考</span><br></pre></td></tr></table></figure>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904221144.png" alt=""></p>
<p>接下来，我们可以让模型使用所有可用的信息来评估学生解决方案的正确性。</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将你的解决方案与学生的解决方案进行比较，评估学生的解决方案是否正确。</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">问题陈述：&quot;&quot;&quot;一个盒子里有4个红色的球和6个蓝色的球。从盒子里抽出两个球，不放回。抽出的两个球中有一个是红色而另一个是蓝色的概率是多少？&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">你的解决方案：&quot;&quot;&quot;有两种可能的成功结果：要么我们先抽一个红色球然后是一个蓝色球，要么我们先抽一个蓝色球然后是一个红色球。我们将找出这些结果各自的概率，然后将它们加在一起。</span><br><span class="line"></span><br><span class="line">1）先红后蓝：第一个抽到红色球的概率是4/10，因为总共有10个球中有4个是红色的。抽了一个红色球后，剩下3个红球和6个蓝球，所以下一个抽到蓝色球的概率是6/9。所以，这种结果的概率是（4/10）*（6/9）。</span><br><span class="line"></span><br><span class="line">2）先蓝后红：第一个抽到蓝色球的概率是6/10，因为总共有10个球中有6个是蓝色的。抽了一个蓝色球后，剩下4个红球和5个蓝球，所以下一个抽到红色球的概率是4/9。所以，这种结果的概率是（6/10）*（4/9）。</span><br><span class="line"></span><br><span class="line">现在我们把这两种结果的概率加在一起：（4/10）（6/9）+（6/10）（4/9）= 24/90 + 24/90 = 48/90。这个分数简化为8/15，所以抽出一个红球和一个蓝球的概率是8/15。&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">学生的解决方案：&quot;&quot;&quot;（4/10）*（6/9）= 24/90 = 4/15&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904221227.png" alt=""></p>
<p>最后，我们可以让模型使用自己的分析来以乐于助人的导师的角色构建回复。</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你是一名数学导师。如果学生犯了错误，请以不透露答案的方式向学生提供提示。如果学生没有犯错，只需给他们一个鼓励性的评论。</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">问题陈述：&quot;&quot;&quot;一个盒子里有4个红色的球和6个蓝色的球。从盒子里抽出两个球，不放回。抽出的两个球中有一个是红色而另一个是蓝色的概率是多少？&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">你的解决方案：&quot;&quot;&quot;有两种可能的成功结果：要么我们先抽一个红色球然后是一个蓝色球，要么我们先抽一个蓝色球然后是一个红色球。我们将找出这些结果各自的概率，然后将它们加在一起。</span><br><span class="line"></span><br><span class="line">1）先红后蓝：第一个抽到红色球的概率是4/10，因为总共有10个球中有4个是红色的。抽了一个红色球后，剩下3个红球和6个蓝球，所以下一个抽到蓝色球的概率是6/9。所以，这种结果的概率是（4/10）*（6/9）。</span><br><span class="line"></span><br><span class="line">2）先蓝后红：第一个抽到蓝色球的概率是6/10，因为总共有10个球中有6个是蓝色的。抽了一个蓝色球后，剩下4个红球和5个蓝球，所以下一个抽到红色球的概率是4/9。所以，这种结果的概率是（6/10）*（4/9）。</span><br><span class="line"></span><br><span class="line">现在我们把这两种结果的概率加在一起：（4/10）（6/9）+（6/10）（4/9）= 24/90 + 24/90 = 48/90。这个分数简化为8/15，所以抽出一个红球和一个蓝球的概率是8/15。&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">学生的解决方案：&quot;&quot;&quot;（4/10）*（6/9）= 24/90 = 4/15&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">分析：&quot;&quot;&quot;学生的解决方案是错误的。他们只考虑了先抽一个红色球然后抽一个蓝色球的情况，而忽略了先抽一个蓝色球然后抽一个红色球的情况。正确的解决方案是将这两种情况的概率相加，即8/15。&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230904221311.png" alt=""></p>
<p>使用这种方法，一次只让模型解决一个问题。同时，将前一个步骤得到的内容，合并到最新的查询Prompt中，这样得到的效果确定性更强。这其实就是逐步引导GPT去思考问题的过程，而每一个问题都会更加明确、简单，因此效果会比较稳定。</p>
<h4 id="4-5-询问模型在之前的处理过程中是否遗漏了什么内容">4.5 询问模型在之前的处理过程中是否遗漏了什么内容</h4>
<p>假设我们正在使用一个模型来列出与特定问题相关的信息源摘录。在列出每个摘录后，模型需要确定是否应该开始写另一个摘录，还是应该停止。如果源文件很大，模型很容易过早停止，无法列出所有相关摘录。在这种情况下，通常可以通过提示模型进行后续查询来找到之前遗漏的摘录，从而获得更好的性能。</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">你将会收到一个由三个引号包含的文档。你的任务是选出与以下问题有关的摘录：&quot;人工智能历史中有哪些重要的范式转变。&quot;</span><br><span class="line"></span><br><span class="line">确保摘录包含解释它们所需的所有相关上下文 - 换句话说，不要提取缺少重要上下文的小片段。请按照以下的JSON格式提供输出：</span><br><span class="line"></span><br><span class="line">[&#123;&quot;excerpt&quot;: &quot;在这里插入摘录&quot;&#125;,</span><br><span class="line">...</span><br><span class="line">&#123;&quot;excerpt&quot;: &quot;在这里插入摘录&quot;&#125;]</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;&lt;insert document here&gt;&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ASSISTANT Result</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[&#123;&quot;excerpt&quot;: &quot;the model writes an excerpt here&quot;&#125;,</span><br><span class="line">...</span><br><span class="line">&#123;&quot;excerpt&quot;: &quot;the model writes another excerpt here&quot;&#125;]</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Are there more relevant excerpts? Take care not to repeat excerpts. Also ensure that excerpts contain all relevant context needed to interpret them - in other words don&#x27;t extract small snippets that are missing important context.</span><br></pre></td></tr></table></figure>
<h3 id="5-使用外部工具">5. 使用外部工具</h3>
<p>通过使用其他工具的输出来弥补GPT的不足。例如，使用文本检索系统来告诉GPT相关文档的信息，或者使用代码执行引擎来帮助GPT进行数学计算和代码运行。如果有其他工具可以更可靠或更有效地完成某个任务，就应该使用这些工具，以获得最佳效果。</p>
<p>具体方法：</p>
<ul>
<li>使用基于嵌入的搜索实现高效的知识检索</li>
<li>通过代码执行来进行更准确的计算或调用外部API</li>
<li>为模型提供访问特定函数的权限</li>
</ul>
<h4 id="5-1-使用基于嵌入的搜索来实现高效的知识检索">5.1 使用基于嵌入的搜索来实现高效的知识检索</h4>
<p>如果作为输入的一部分提供，模型可以利用外部信息源。这可以帮助模型生成更明智和最新的响应。例如，如果用户询问有关特定电影的问题，将有关电影的高质量信息（例如演员、导演等）添加到模型的输入中可能会很有用。嵌入可用于实现高效的知识检索，以便在运行时将相关信息动态添加到模型输入中。</p>
<p>文本嵌入是一个向量，可以衡量文本字符串之间的相关性。相似或相关的字符串将比不相关的字符串靠得更近。这一事实以及快速向量搜索算法的存在意味着嵌入可用于实现高效的知识检索。特别是，一个文本语料库可以被分割成块，每个块都可以被嵌入和存储。然后可以嵌入给定的查询并执行向量搜索以从语料库中找到与查询最相关的嵌入文本块（即在嵌入空间中最接近）。</p>
<p>比如ChatGLM+LangChain就是一种开源的领域大模型解决方案，具体可以参考相关资料。</p>
<h4 id="5-2-使用代码执行来执行更准确的计算或调用外部-API">5.2 使用代码执行来执行更准确的计算或调用外部 API</h4>
<p>不能依赖 GPT 自行准确地执行算术或长计算。在需要的情况下，可以指示模型编写和运行代码，而不是进行自己的计算。特别是，可以指示模型将要运行的代码放入指定的格式中，例如三重 backtics。生成输出后，可以提取并运行代码。最后，如果有必要，可以将代码执行引擎（即 Python 解释器）的输出作为输入提供给下一个查询的模型。</p>
<p>示例：</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">您可以通过将 Python 代码括在三重反引号中来编写和执行 Python 代码，例如代码在这里。使用它来执行计算。</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">找出以下多项式的所有实值根：3x**5 - 5x4 - 3\*x3 - 7\*x - 10。</span><br></pre></td></tr></table></figure>
<p><strong>ASSISTANT Result</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">为了找出多项式的所有实根，我们可以使用 Python 的 numpy 库中的 roots 函数。这个函数将计算出一个多项式的所有根（包括实根和复根）。为了只获取实根，我们可以过滤出那些虚部为零的根。</span><br><span class="line"></span><br><span class="line">*以下是对应的 Python 代码：*</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230905100025.png" alt=""></p>
<p>运行这段代码将会给出多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>x</mi><mn>5</mn><mo>−</mo><mn>5</mn><mi>x</mi><mn>4</mn><mo>−</mo><mn>3</mn><msup><mi>x</mi><mn>3</mn></msup><mo>−</mo><mn>7</mn><mi>x</mi><mo>−</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">3x5 - 5x4 - 3x^3 - 7x - 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mord mathnormal">x</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">x</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">7</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span> 的所有实根。</p>
<h3 id="6-系统地测试变化">6. 系统地测试变化</h3>
<p>有时很难判断更改（例如，新指令或新设计）是否会使您的系统变得更好或更糟。查看几个示例可能会暗示哪个更好，但是样本量较小时，很难区分真正的改进还是随机的运气。也许这种变化有助于某些输入的性能，但会损害其他输入的性能。</p>
<p>评估程序（或“evals”）对于优化系统设计很有用。好的评价是：</p>
<ul>
<li>
<p>代表现实世界的使用（或至少是多样化的）</p>
</li>
<li>
<p>包含许多测试用例以获得更大的统计能力（有关指南，请参见下表）</p>
</li>
<li>
<p>易于自动化或重复</p>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">DIFFERENCE TO DETECT</th>
<th style="text-align:left">SAMPLE SIZE NEEDED FOR 95% CONFIDENCE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">30%</td>
<td style="text-align:left">~10</td>
</tr>
<tr>
<td style="text-align:left">10%</td>
<td style="text-align:left">~100</td>
</tr>
<tr>
<td style="text-align:left">3%</td>
<td style="text-align:left">~1,000</td>
</tr>
<tr>
<td style="text-align:left">1%</td>
<td style="text-align:left">~10,000</td>
</tr>
</tbody>
</table>
<p>对输出结果的评估可以由计算机、人工或混合方式完成。计算机可以根据客观标准（例如只有一个正确答案的问题）以及一些主观或模糊标准自动进行评估，其中模型输出由其他模型查询进行评估。<a target="_blank" rel="noopener" href="https://github.com/openai/evals">OpenAI Evals</a> 是一个开源软件框架，提供创建自动 evals 的工具。</p>
<p>当存在一系列被认为质量同样高的可能输出时（例如对于答案较长的问题），基于模型的评估就很有用。哪些内容可以通过基于模型的评估进行实际评估，哪些内容需要人工评估，这两者之间的界限是模糊的，并且随着模型能力的提高而不断变化。我们鼓励通过实验来了解基于模型的评估在您的使用案例中的效果如何。</p>
<h4 id="6-1-参考黄金标准答案评估模型输出">6.1 参考黄金标准答案评估模型输出</h4>
<p>假设已知问题的正确答案应该参考一组特定的已知事实。然后我们可以使用模型查询来计算答案中包含了多少所需事实。</p>
<p>示例1：</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">您将获得由三重引号分隔的文本，这些文本应该是问题的答案。检查答案中是否直接包含以下信息：</span><br><span class="line"></span><br><span class="line">- 尼尔阿姆斯特朗是第一个在月球上行走的人。</span><br><span class="line">- 尼尔·阿姆斯特朗首次踏上月球的日期是 1969 年 7 月 21 日。</span><br><span class="line"></span><br><span class="line">对于这些点中的每一个，执行以下步骤：</span><br><span class="line"></span><br><span class="line">1- 重申这一点。</span><br><span class="line">2- 引用最接近这一点的答案。</span><br><span class="line">3- 考虑阅读引文但不了解主题的人是否可以直接推断出这一点。在下定决心之前解释为什么或为什么不。</span><br><span class="line">4- 如果对 3 的回答是“是”，则写“是”，否则写“否”。</span><br><span class="line"></span><br><span class="line">最后，提供有多少个“是”答案的计数。将此计数提供为 &#123;&quot;count&quot;:**&#125;。</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;尼尔阿姆斯特朗因成为第一个踏上月球的人类而闻名。这一历史性事件发生在 1969 年 7 月 21 日，阿波罗 11 号任务期间。&quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<p><strong>ASSISTANT Result</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1 - 尼尔阿姆斯特朗是第一个在月球上行走的人。答案中的引文：&quot;尼尔阿姆斯特朗因成为第一个踏上月球的人类而闻名。&quot;考虑引文，尽管它没有直接说阿姆斯特朗是第一个在月球上行走的人，但它明确说阿姆斯特朗是第一个踏上月球的人，这也暗示了他是第一个在月球上行走的人。所以，一个人可以从这个引文中直接推断出阿姆斯特朗是第一个在月球上行走的人。答案：是</span><br><span class="line"></span><br><span class="line">2 - 尼尔·阿姆斯特朗首次踏上月球的日期是 1969 年 7 月 21 日。答案中的引文：&quot;这一历史性事件发生在 1969 年 7 月 21 日，阿波罗 11 号任务期间。&quot;考虑引文，它明**确地提到了这一历史性事件（即阿姆斯特朗踏上月球）发生在 1969 年 7 月 21 日。因此，一个人可以从这个引文中直接推断出尼尔·阿姆斯特朗首次踏上月球的日期是 1969 年 7 月 21 日。答案：是</span><br><span class="line"></span><br><span class="line">&#123;&quot;count&quot;: 2&#125;</span><br><span class="line"></span><br><span class="line">这种基于模型的评估有很多可能的变体。考虑以下变体，它跟踪候选答案和黄金标准答案之间的重叠类型，并跟踪候选答案是否与黄金标准答案的任何部分相矛盾。</span><br></pre></td></tr></table></figure>
<p>示例2：</p>
<p><strong>SYSTEM Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">使用以下步骤响应用户输入。在继续之前完全重述每个步骤。即“第 1 步：原因……”。</span><br><span class="line"></span><br><span class="line">第 1 步：逐步推理提交的答案中的信息与专家答案相比是否是：不相交、相等、子集、超集或重叠（即一些交集但不是子集/超集）。</span><br><span class="line"></span><br><span class="line">第 2 步：逐步推理提交的答案是否与专家答案的任何方面相矛盾。</span><br><span class="line"></span><br><span class="line">第 3 步：输出结构如下的 JSON 对象：&#123;&quot;type_of_overlap&quot;: &quot;disjoint&quot; or &quot;equal&quot; or &quot;subset&quot; or &quot;superset&quot; or &quot;overlapping&quot;, &quot;contradiction&quot;: true or false&#125;</span><br></pre></td></tr></table></figure>
<p><strong>USER Prompt</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">问题：“”“Neil Armstrong 最著名的事件是什么？它发生在什么日期？假定 UTC 时间。”””</span><br><span class="line"></span><br><span class="line">提交的答案：“”“他不是在月球上行走吗？”“”</span><br><span class="line"></span><br><span class="line">专家解答：“”“尼尔阿姆斯特朗最著名的是第一个登上月球的人。这一历史性事件发生在 1969 年 7 月 21 日。”“”</span><br></pre></td></tr></table></figure>
<p><strong>ASSISTANT Result</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">第 1 步：逐步推理提交的答案中的信息与专家答案相比是什么关系？</span><br><span class="line"></span><br><span class="line">提交的答案&quot;他不是在月球上行走吗？&quot;只包含了专家答案的一部分信息，也就是尼尔·阿姆斯特朗在月球上行走的事实。但是，它没有提供具体的日期，也没有明确表述尼尔·阿姆斯特朗是第一个登上月球的人。所以，提交的答案是专家答案的子集。</span><br><span class="line"></span><br><span class="line">第 2 步：逐步推理提交的答案是否与专家答案的任何方面相矛盾？</span><br><span class="line"></span><br><span class="line">提交的答案没有与专家答案产生任何矛盾，它只是没有提供所有的信息。</span><br><span class="line"></span><br><span class="line">第 3 步：输出结构如下的 JSON 对象：</span><br><span class="line"></span><br><span class="line">&#123;&quot;type_of_overlap&quot;: &quot;subset&quot;, &quot;contradiction&quot;: false&#125;</span><br></pre></td></tr></table></figure>
<p>要编写优质的prompt，从日常实践来看，用下述结构，并且提出非常具体的要求，则基本可以让LLM输出你想要的结果</p>
<p>✅ 角色、技能、个性<br>
✅ 目标<br>
✅ 具体的上下文、关键词、负面词<br>
✅ 输入规则<br>
✅ 输出规则<br>
✅ 输入输出的例子</p>
<p>附图是两个优秀的Prompt：AutoGPT核心指令+小红书写手。都覆盖了框架的大部分</p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20231130204457.png" alt=""></p>
<p><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20231130204509.png" alt=""></p>
<p>1️⃣ 角色、技能、个性<br>
角色：该提示以声明AI的明确角色开始。这已经成为了标准的最佳实践。它会切换到那个角色来思考问题<br>
技能：要告诉它能做什么事情，有哪些工具可以用<br>
个性：输出的语调、个性（尤其是需要生成内容）、沟通方式等</p>
<p>2️⃣ 目标<br>
告知让它完成一个什么目标。这是最核心的，必须非常清晰明确</p>
<p>3️⃣ 具体的上下文、关键词、负面词<br>
上下文：这个尤其重要，要告知它已经发生了什么，有哪些具体信息。它才可以给出独特的结果</p>
<p>关键词列表：尽量的告诉它具体的关键词，尤其是对生成内容的时候，要有个性化的文案和创意，这是不可缺少的</p>
<p>负面词：让它避免输出不需要的内容。包括不要输出什么样的内容</p>
<p>4️⃣ 输入规则<br>
明确输入的格式，有的时候最好用JSON格式给到它，这样就不会有歧义</p>
<p>5️⃣ 输出规则<br>
这个非常重要，越详细越好。比如说明确格式，要JSON或者MD格式，要Bullet points，要长度，要表格，要emoji等。</p>
<p>比如说要确认要哪种内容，要忽略哪些 。</p>
<p>要遵循哪些策略等等</p>
<p>6️⃣ 输入输出的例子</p>
<p>在上面的输入输出规则基础上，最好的情况是给出一到多个例子。LLM在模仿例子方面非常的杰出，基本上给了3个典型的例子，后面类似的情况一定会严格按照例子来。</p>
<h3 id="参考">参考</h3>
<ol>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU1MDg5NTExNg==&amp;mid=2247484727&amp;idx=1&amp;sn=02a1f71559e9625024359dddfc55561c&amp;chksm=fb98ee54ccef6742d26eaf6ee17fd86d57555693a6598dd7813bfd7637a6b0fe9f9828dc5bae&amp;scene=178&amp;cur_album_id=2856446790978469889#rd">AI技术前沿</a></li>
<li><a target="_blank" rel="noopener" href="https://promptingguide.ai/zh">Prompt 提示工程指南</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/prompt-engineering/prompt-patterns">Prompt 编写模式</a></li>
<li><a target="_blank" rel="noopener" href="https://baoyu.io/blog/prompt-engineering/how-to-write-high-quality-prompt#:~:text=Awesome%20ChatGPT%20Prompts">Awesome ChatGPT Prompts</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Weitang Liu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lonepatient.top/2023/08/20/GPT_Prompts_Six%20strategies_for_getting_better_results.html">http://lonepatient.top/2023/08/20/GPT_Prompts_Six%20strategies_for_getting_better_results.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lonepatient.top" target="_blank">闲记算法</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/NLP/">NLP</a><a class="post-meta__tags" href="/tags/%E9%A2%84%E8%AE%AD%E7%BB%83/">预训练</a><a class="post-meta__tags" href="/tags/%E5%A4%A7%E5%9E%8B%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/">大型语言模型</a><a class="post-meta__tags" href="/tags/Prompt/">Prompt</a><a class="post-meta__tags" href="/tags/CoT/">CoT</a><a class="post-meta__tags" href="/tags/ChatGPT/">ChatGPT</a><a class="post-meta__tags" href="/tags/GPT/">GPT</a><a class="post-meta__tags" href="/tags/Role/">Role</a></div><div class="post_share"><div class="social-share" data-image="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230905101938.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/22/LLM_inference_optimizing_latency.html"><img class="prev-cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230827173120.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">LLM推理加速</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/06/ChatGPT_Prompting_Cheat_Sheet.html"><img class="next-cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230806160808.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ChatGPT提示快速指南</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/03/10/ChatGPT_Research_Report.html" title="ChatGPT 调研报告"><img class="cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230310095306.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-10</div><div class="title">ChatGPT 调研报告</div></div></a></div><div><a href="/2023/08/31/llm_in_1688.html" title="大语言模型在1688电商场景的算法实践"><img class="cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230831212220.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-31</div><div class="title">大语言模型在1688电商场景的算法实践</div></div></a></div><div><a href="/2023/08/06/ChatGPT_Prompting_Cheat_Sheet.html" title="ChatGPT提示快速指南"><img class="cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230806160808.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-06</div><div class="title">ChatGPT提示快速指南</div></div></a></div><div><a href="/2023/04/12/Emergent_capacity_of_LLM_phenomena_explanations.html" title="大语言模型的涌现能力：现象与解释"><img class="cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230413215813.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-12</div><div class="title">大语言模型的涌现能力：现象与解释</div></div></a></div><div><a href="/2023/07/29/LLM_Powered_Autonomous_Agents.html" title="使用LLM构建AI Agents的正确姿势"><img class="cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230908194136.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-29</div><div class="title">使用LLM构建AI Agents的正确姿势</div></div></a></div><div><a href="/2023/06/30/ReACT.html" title="ReAct：Synergizing Reasoning and Acting in Language Models"><img class="cover" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20231009205857.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-30</div><div class="title">ReAct：Synergizing Reasoning and Acting in Language Models</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/touxiang.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Weitang Liu</div><div class="author-info__description">一个致力于记录技术的博客</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">266</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">306</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">70</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lonePatient"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lonePatient" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:liuweitangmath@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://weibo.com/277974397" target="_blank" title="Weibo"><i class="fab fa-weibo"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">记录和分享一些学习和开源内容，若有任何问题可通过留言板或者微信公众号给我留言，谢谢！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BC%96%E5%86%99%E6%B8%85%E6%99%B0%E7%9A%84%E6%8F%90%E7%A4%BA"><span class="toc-number">1.</span> <span class="toc-text">1. 编写清晰的提示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%9C%A8%E6%9F%A5%E8%AF%A2%E4%B8%AD%E5%8C%85%E5%90%AB%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%E4%BB%A5%E8%8E%B7%E5%BE%97%E6%9B%B4%E7%9B%B8%E5%85%B3%E7%9A%84%E7%AD%94%E6%A1%88"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 在查询中包含详细信息以获得更相关的答案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E8%A6%81%E6%B1%82%E6%A8%A1%E5%9E%8B%E9%87%87%E7%94%A8%E7%89%B9%E5%AE%9A%E7%9A%84%E8%A7%92%E8%89%B2"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 要求模型采用特定的角色</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E4%B8%8B%E6%98%AFAndrej-Karpathy%E5%9C%A8State-of-GPT%E4%B8%AD%E7%9A%84%E4%B8%80%E6%AE%B5%E6%BC%94%E8%AE%B2%E7%9A%84%E6%96%87%E5%AD%97%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">以下是Andrej Karpathy在State of GPT中的一段演讲的文字内容：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E4%BD%BF%E7%94%A8%E5%88%86%E9%9A%94%E7%AC%A6%E6%B8%85%E6%A5%9A%E5%9C%B0%E6%8C%87%E7%A4%BA%E8%BE%93%E5%85%A5%E7%9A%84%E4%B8%8D%E5%90%8C%E9%83%A8%E5%88%86"><span class="toc-number">0.1.</span> <span class="toc-text">1.3 使用分隔符清楚地指示输入的不同部分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E6%8C%87%E5%AE%9A%E5%AE%8C%E6%88%90%E4%BB%BB%E5%8A%A1%E6%89%80%E9%9C%80%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">0.2.</span> <span class="toc-text">1.4 指定完成任务所需的步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-%E6%8F%90%E4%BE%9B%E5%B0%8F%E6%A0%B7%E6%9C%AC"><span class="toc-number">0.3.</span> <span class="toc-text">1.5 提供小样本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-%E6%8C%87%E5%AE%9A%E6%89%80%E9%9C%80%E7%9A%84%E8%BE%93%E5%87%BA%E9%95%BF%E5%BA%A6"><span class="toc-number">0.4.</span> <span class="toc-text">1.6 指定所需的输出长度</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8F%90%E4%BE%9B%E5%8F%82%E8%80%83%E6%96%87%E6%9C%AC"><span class="toc-number">1.</span> <span class="toc-text">2. 提供参考文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E6%8F%90%E7%A4%BA%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%8F%82%E8%80%83%E6%96%87%E6%9C%AC%E6%9D%A5%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.</span> <span class="toc-text">2.1 提示模型使用参考文本来回答问题</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%8F%90%E7%A4%BA%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8%E5%8F%82%E8%80%83%E6%96%87%E6%9C%AC%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8%E6%9D%A5%E5%9B%9E%E7%AD%94%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.</span> <span class="toc-text">2.2 提示模型使用参考文本中的引用来回答问题</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number">1.2.1.</span> <span class="toc-text">示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B0%86%E5%A4%8D%E6%9D%82%E7%9A%84%E4%BB%BB%E5%8A%A1%E6%8B%86%E5%88%86%E4%B8%BA%E6%9B%B4%E7%AE%80%E5%8D%95%E7%9A%84%E5%AD%90%E4%BB%BB%E5%8A%A1"><span class="toc-number">2.</span> <span class="toc-text">3. 将复杂的任务拆分为更简单的子任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E4%BD%BF%E7%94%A8%E6%84%8F%E5%9B%BE%E5%88%86%E7%B1%BB%E6%9D%A5%E8%AF%86%E5%88%AB%E4%B8%8E%E7%94%A8%E6%88%B7%E6%9F%A5%E8%AF%A2%E6%9C%80%E7%9B%B8%E5%85%B3%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">3.1 使用意图分类来识别与用户查询最相关的指令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B1"><span class="toc-number">2.1.1.</span> <span class="toc-text">示例1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B2"><span class="toc-number">2.1.2.</span> <span class="toc-text">示例2</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E5%AF%B9%E4%BA%8E%E9%9C%80%E8%A6%81%E5%BE%88%E9%95%BF%E4%BC%9A%E8%AF%9D%E7%9A%84%E5%AF%B9%E8%AF%9D%E5%BA%94%E7%94%A8%EF%BC%8C%E6%80%BB%E7%BB%93%E6%88%96%E8%BF%87%E6%BB%A4%E4%B9%8B%E5%89%8D%E7%9A%84%E5%AF%B9%E8%AF%9D"><span class="toc-number">2.2.</span> <span class="toc-text">3.2 对于需要很长会话的对话应用，总结或过滤之前的对话</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E5%88%86%E6%AE%B5%E6%80%BB%E7%BB%93%E9%95%BF%E6%96%87%E6%A1%A3%EF%BC%8C%E5%B9%B6%E9%80%92%E5%BD%92%E6%9E%84%E5%BB%BA%E6%88%90%E5%AE%8C%E6%95%B4%E6%91%98%E8%A6%81"><span class="toc-number">2.3.</span> <span class="toc-text">3.3 分段总结长文档，并递归构建成完整摘要</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%BB%99-GPT-%E6%97%B6%E9%97%B4%E2%80%9C%E6%80%9D%E8%80%83%E2%80%9D"><span class="toc-number">3.</span> <span class="toc-text">4. 给 GPT 时间“思考”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E6%8F%90%E7%A4%BA%E6%A8%A1%E5%9E%8B%E4%B8%8D%E8%A6%81%E5%8C%86%E5%BF%99%E5%BE%97%E5%87%BA%E7%BB%93%E8%AE%BA%EF%BC%8C%E8%80%8C%E6%98%AF%E8%A6%81%E5%85%88%E6%89%BE%E5%87%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">3.1.</span> <span class="toc-text">4.1 提示模型不要匆忙得出结论，而是要先找出自己的解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E4%BD%BF%E7%94%A8%E5%86%85%E5%BF%83%E7%8B%AC%E7%99%BD%E6%88%96%E4%B8%80%E7%B3%BB%E5%88%97%E6%9F%A5%E8%AF%A2%E6%9D%A5%E9%9A%90%E8%97%8F%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%8E%A8%E7%90%86%E8%BF%87%E7%A8%8B"><span class="toc-number">3.2.</span> <span class="toc-text">4.2 使用内心独白或一系列查询来隐藏模型的推理过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E4%BD%BF%E7%94%A8%E4%B8%80%E7%B3%BB%E5%88%97%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%9D%A5%E5%AE%9E%E7%8E%B0"><span class="toc-number">3.3.</span> <span class="toc-text">4.3 使用一系列的查询来实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5-%E8%AF%A2%E9%97%AE%E6%A8%A1%E5%9E%8B%E5%9C%A8%E4%B9%8B%E5%89%8D%E7%9A%84%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B%E4%B8%AD%E6%98%AF%E5%90%A6%E9%81%97%E6%BC%8F%E4%BA%86%E4%BB%80%E4%B9%88%E5%86%85%E5%AE%B9"><span class="toc-number">3.4.</span> <span class="toc-text">4.5 询问模型在之前的处理过程中是否遗漏了什么内容</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BD%BF%E7%94%A8%E5%A4%96%E9%83%A8%E5%B7%A5%E5%85%B7"><span class="toc-number">4.</span> <span class="toc-text">5. 使用外部工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-%E4%BD%BF%E7%94%A8%E5%9F%BA%E4%BA%8E%E5%B5%8C%E5%85%A5%E7%9A%84%E6%90%9C%E7%B4%A2%E6%9D%A5%E5%AE%9E%E7%8E%B0%E9%AB%98%E6%95%88%E7%9A%84%E7%9F%A5%E8%AF%86%E6%A3%80%E7%B4%A2"><span class="toc-number">4.1.</span> <span class="toc-text">5.1 使用基于嵌入的搜索来实现高效的知识检索</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%9D%A5%E6%89%A7%E8%A1%8C%E6%9B%B4%E5%87%86%E7%A1%AE%E7%9A%84%E8%AE%A1%E7%AE%97%E6%88%96%E8%B0%83%E7%94%A8%E5%A4%96%E9%83%A8-API"><span class="toc-number">4.2.</span> <span class="toc-text">5.2 使用代码执行来执行更准确的计算或调用外部 API</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%B3%BB%E7%BB%9F%E5%9C%B0%E6%B5%8B%E8%AF%95%E5%8F%98%E5%8C%96"><span class="toc-number">5.</span> <span class="toc-text">6. 系统地测试变化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-%E5%8F%82%E8%80%83%E9%BB%84%E9%87%91%E6%A0%87%E5%87%86%E7%AD%94%E6%A1%88%E8%AF%84%E4%BC%B0%E6%A8%A1%E5%9E%8B%E8%BE%93%E5%87%BA"><span class="toc-number">5.1.</span> <span class="toc-text">6.1 参考黄金标准答案评估模型输出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">6.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/31/arxiv_papers_2025-10-31.html" title="Arxiv今日论文 | 2025-10-31"><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20210911210134.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arxiv今日论文 | 2025-10-31"/></a><div class="content"><a class="title" href="/2025/10/31/arxiv_papers_2025-10-31.html" title="Arxiv今日论文 | 2025-10-31">Arxiv今日论文 | 2025-10-31</a><time datetime="2025-10-31T10:30:00.000Z" title="发表于 2025-10-31 10:30:00">2025-10-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/30/arxiv_papers_2025-10-30.html" title="Arxiv今日论文 | 2025-10-30"><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20210911210134.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arxiv今日论文 | 2025-10-30"/></a><div class="content"><a class="title" href="/2025/10/30/arxiv_papers_2025-10-30.html" title="Arxiv今日论文 | 2025-10-30">Arxiv今日论文 | 2025-10-30</a><time datetime="2025-10-30T10:30:00.000Z" title="发表于 2025-10-30 10:30:00">2025-10-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/29/arxiv_papers_2025-10-29.html" title="Arxiv今日论文 | 2025-10-29"><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20210911210134.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arxiv今日论文 | 2025-10-29"/></a><div class="content"><a class="title" href="/2025/10/29/arxiv_papers_2025-10-29.html" title="Arxiv今日论文 | 2025-10-29">Arxiv今日论文 | 2025-10-29</a><time datetime="2025-10-29T10:30:00.000Z" title="发表于 2025-10-29 10:30:00">2025-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/28/arxiv_papers_2025-10-28.html" title="Arxiv今日论文 | 2025-10-28"><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20210911210134.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arxiv今日论文 | 2025-10-28"/></a><div class="content"><a class="title" href="/2025/10/28/arxiv_papers_2025-10-28.html" title="Arxiv今日论文 | 2025-10-28">Arxiv今日论文 | 2025-10-28</a><time datetime="2025-10-28T10:30:00.000Z" title="发表于 2025-10-28 10:30:00">2025-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/10/27/arxiv_papers_2025-10-27.html" title="Arxiv今日论文 | 2025-10-27"><img src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20210911210134.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Arxiv今日论文 | 2025-10-27"/></a><div class="content"><a class="title" href="/2025/10/27/arxiv_papers_2025-10-27.html" title="Arxiv今日论文 | 2025-10-27">Arxiv今日论文 | 2025-10-27</a><time datetime="2025-10-27T10:30:00.000Z" title="发表于 2025-10-27 10:30:00">2025-10-27</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Weitang Liu</div><div class="footer_custom_text"><p><a style="margin-inline:5px"target="_blank"href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo"title="博客框架为Hexo"alt="img"></a><a style="margin-inline:5px"target="_blank"href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender"title="主题采用butterfly"alt="img"></a><a style="margin-inline:5px"target="_blank"href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr"title="本站使用JsDelivr为静态资源提供CDN加速"alt="img"></a><a style="margin-inline:5px"target="_blank"href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub"title="本站项目由Gtihub托管"alt="img"></a><a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris"alt="img"title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></br></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    let initData = {
      el: '#twikoo-wrap',
      envId: 'https://twikoo.lonepatient.top/',
      region: ''
    }

    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    twikoo.init(initData)
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'https://twikoo.lonepatient.top/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo@1.4.11/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="http://lonepatient.top/categories/深度学习/自然语言处理/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 自然语言处理 (95)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://lonepatient.top/categories/深度学习/计算机视觉/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 计算机视觉 (16)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://lonepatient.top/categories/知识图谱/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱 知识图谱 (13)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="http://lonepatient.top/categories/深度学习/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 深度学习 (135)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="http://lonepatient.top/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(50% - 5px);background: #f2f2f2;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: #b30070}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>function electric_clock_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img id="card-clock-loading" src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading" class="entered loading"></div></div></div></div></div>';
                console.log('已挂载electric_clock')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // 有报错，但不影响使用(支持pjax跳转)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='all'|| 'all' ==='all')){

            electric_clock_injector_config()
        } </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax  src="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/02/18/The_Road_to_AGI_Larg_Language_Model_Technical_Essentials.html" alt=""><img width="48" height="48" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230219144729.jpeg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-18</span><a class="blog-slider__title" href="2023/02/18/The_Road_to_AGI_Larg_Language_Model_Technical_Essentials.html" alt="">通向AGI之路：大型语言模型（LLM）技术精要</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/02/18/The_Road_to_AGI_Larg_Language_Model_Technical_Essentials.html" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/07/12/gaiic_2022_ner_top10.html" alt=""><img width="48" height="48" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20220712181905.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-07-12</span><a class="blog-slider__title" href="2022/07/12/gaiic_2022_ner_top10.html" alt="">GAIIC2022商品标题识别二等奖获奖解决思路</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/07/12/gaiic_2022_ner_top10.html" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2021/01/20/awesome-pretrained-chinese-nlp-models.html" alt=""><img width="48" height="48" src="https://lonepatient-1257945978.cos.ap-chengdu.myqcloud.com/images/20230807190424.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-01-20</span><a class="blog-slider__title" href="2021/01/20/awesome-pretrained-chinese-nlp-models.html" alt="">2025-03|高质量中文预训练模型集合</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2021/01/20/awesome-pretrained-chinese-nlp-models.html" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --></body></html>